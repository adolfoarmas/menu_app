{"ast":null,"code":"import { USER_LOGIN_END_POINT } from \"./settings.js\";\n\nconst handleErrors = async response => {\n  if (!response.ok) {\n    console.log('response', response);\n    let errorMessage = '';\n    const ApiMessages = await response.json();\n    console.log(await ApiMessages);\n    Object.entries(ApiMessages).forEach(_ref => {\n      let [key, value] = _ref;\n      const messages = value.join('\\n');\n      errorMessage += `${key}: ${messages}\\n`;\n      console.log('errorMessage', errorMessage);\n    });\n    throw new Error(errorMessage);\n  }\n\n  return response.json();\n};\n\nexport default async function loginUser(credentials) {\n  return fetch(USER_LOGIN_END_POINT, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(credentials)\n  }).then(handleErrors).then(data => {\n    return data;\n  }).catch(error => {\n    throw error.message;\n  });\n}","map":{"version":3,"names":["USER_LOGIN_END_POINT","handleErrors","response","ok","console","log","errorMessage","ApiMessages","json","Object","entries","forEach","key","value","messages","join","Error","loginUser","credentials","fetch","method","headers","body","JSON","stringify","then","data","catch","error","message"],"sources":["/home/adolfo/menu_app/frontend/menu/src/services/loginUser.js"],"sourcesContent":["import {USER_LOGIN_END_POINT} from \"./settings.js\"\n\nconst handleErrors = async (response) => {\n    if(!response.ok){\n        console.log('response', response)\n        let errorMessage = ''\n        const ApiMessages = await response.json();\n        console.log(await ApiMessages)\n        Object.entries(ApiMessages).forEach(([key, value]) => {\n            const messages = value.join('\\n');\n            errorMessage += `${key}: ${messages}\\n`;\n            console.log('errorMessage', errorMessage)\n          });\n        throw new Error (errorMessage);\n    }\n    return response.json()\n}\n\nexport default async function loginUser(credentials){\n    return fetch(USER_LOGIN_END_POINT, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(credentials)\n    })\n    .then(handleErrors)\n    .then(data => {\n        return data\n    })\n    .catch(error => {\n        throw error.message\n    })\n}"],"mappings":"AAAA,SAAQA,oBAAR,QAAmC,eAAnC;;AAEA,MAAMC,YAAY,GAAG,MAAOC,QAAP,IAAoB;EACrC,IAAG,CAACA,QAAQ,CAACC,EAAb,EAAgB;IACZC,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBH,QAAxB;IACA,IAAII,YAAY,GAAG,EAAnB;IACA,MAAMC,WAAW,GAAG,MAAML,QAAQ,CAACM,IAAT,EAA1B;IACAJ,OAAO,CAACC,GAAR,CAAY,MAAME,WAAlB;IACAE,MAAM,CAACC,OAAP,CAAeH,WAAf,EAA4BI,OAA5B,CAAoC,QAAkB;MAAA,IAAjB,CAACC,GAAD,EAAMC,KAAN,CAAiB;MAClD,MAAMC,QAAQ,GAAGD,KAAK,CAACE,IAAN,CAAW,IAAX,CAAjB;MACAT,YAAY,IAAK,GAAEM,GAAI,KAAIE,QAAS,IAApC;MACAV,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BC,YAA5B;IACD,CAJH;IAKA,MAAM,IAAIU,KAAJ,CAAWV,YAAX,CAAN;EACH;;EACD,OAAOJ,QAAQ,CAACM,IAAT,EAAP;AACH,CAdD;;AAgBA,eAAe,eAAeS,SAAf,CAAyBC,WAAzB,EAAqC;EAChD,OAAOC,KAAK,CAACnB,oBAAD,EAAuB;IAC/BoB,MAAM,EAAE,MADuB;IAE/BC,OAAO,EAAE;MACL,gBAAgB;IADX,CAFsB;IAK/BC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf;EALyB,CAAvB,CAAL,CAONO,IAPM,CAODxB,YAPC,EAQNwB,IARM,CAQDC,IAAI,IAAI;IACV,OAAOA,IAAP;EACH,CAVM,EAWNC,KAXM,CAWAC,KAAK,IAAI;IACZ,MAAMA,KAAK,CAACC,OAAZ;EACH,CAbM,CAAP;AAcH"},"metadata":{},"sourceType":"module"}